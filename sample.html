<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Sample - Ernie And Flo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <style>
        /* Custom CSS */
        .custom-shadow {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .hover-highlight:hover {
            background-color: rgba(255, 90, 95, 0.1);
        }
        .logo-bg {
        	background-color: rgba(255, 255, 255, 255);
            border-radius: 9999px;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 font-sans">

    <!-- Header -->
<header class="bg-black border-b border-gray-300 py-2">
    <nav class="max-w-7xl mx-auto flex items-center justify-between px-4">
        <!-- Logo Section -->
        <div class="flex items-center">
            <a href="index.html" class="logo-padding">
                <img src="https://raw.githubusercontent.com/ernieandflo-dotcom/bookshelf/0894cab24a3cba51023ef85c8541652ef5d89e5c/images/meme_sealofapproval.svg" alt="Ernie And Flo Logo" class="logo-bg h-12 w-12">
            </a>
        </div>

        <!-- Hamburger Menu for Small Screens -->
        <button 
            id="menu-toggle" 
            class="block md:hidden text-gray-100 hover:text-red-500 focus:outline-none">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
            </svg>
        </button>

        <!-- Navigation Links -->
        <div 
            id="nav-links" 
            class="hidden md:flex flex-grow justify-center space-x-8 items-center">
            <span class="border-l border-gray-800"></span>
            <a href="index.html" class="text-lg font-bold text-gray-100 hover:text-red-500">Home</a>
            <span class="border-l border-gray-500"></span>
            <a href="books.html" class="text-lg font-bold text-gray-100 hover:text-red-500">Books</a>
            <span class="border-l border-gray-500"></span>
            <a href="about.html" class="text-lg font-bold text-gray-100 hover:text-red-500">About Us</a>
            <span class="border-l border-gray-800"></span>
        </div>

        <!-- Dropdown Menu for Small Screens -->
        <div 
            id="dropdown-menu" 
            class="hidden flex flex-col space-y-4 bg-black p-4 absolute right-4 top-16 rounded shadow-md z-50">
            <a href="index.html" class="text-lg font-bold text-gray-100 hover:text-red-500">Home</a>
            <a href="books.html" class="text-lg font-bold text-gray-100 hover:text-red-500">Books</a>
            <a href="about.html" class="text-lg font-bold text-gray-100 hover:text-red-500">About Us</a>
        </div>
    </nav>
</header>

    <!-- Free Sample Form Section -->
<section id="free-sample-form" class="bg-gray-100 py-12 px-6">
    <h2 class="text-2xl font-bold text-center mb-4">Get a Free Sample!</h2>
    <p class="text-center text-gray-700 mb-6">Provide your details below to receive a free sample of <i>"I Wrote 100 Haiku: Then Robots Ruthlessly Rated Them."</i></p>
    
    <form id="sampleForm" class="max-w-lg mx-auto bg-white px-6 pt-4 pb-6 rounded-lg shadow">
        <label for="name" class="block text-gray-700 font-medium mb-2">Name</label>
        <input type="text" id="name" name="name" required class="w-full border border-gray-300 rounded px-4 py-2 mb-4" placeholder="Enter your name">
        
        <label for="email" class="block text-gray-700 font-medium mb-2">Email Address</label>
        <input type="email" id="email" name="email" required class="w-full border border-gray-300 rounded px-4 py-2 mb-4" placeholder="Enter your email">
        <input type="text" name="honeypot" style="display: none;">
        <div class="flex items-start mb-4">
            <input type="checkbox" id="consent" name="consent" required class="mr-2">
            <label for="consent" class="text-gray-700">I agree to the use of my personal information for communication purposes.</label>
        </div>
        <div class="g-recaptcha" data-sitekey="6Lev4o8qAAAAAOGUf1vY-RBsiPlVgZTL-LKwICuh"></div>
        <button type="submit" class="w-full bg-red-500 text-white font-medium px-4 py-2 rounded hover:bg-red-700 transition duration-300">
            Get sample (FREE)
        </button>
    </form>

    <p id="responseMessage" class="text-center text-green-500 font-medium mt-4 hidden">Thank you! Your free sample has been sent to your email.</p>
</section>

<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<script>
    // Initialize EmailJS (replace with your service ID and API key)
    emailjs.init("JirJ4-BPe5UTaHc6V");

    const sampleForm = document.getElementById("sampleForm");
    const responseMessage = document.getElementById("responseMessage");

    sampleForm.addEventListener("submit", async (event) => {
        event.preventDefault();

        const honeypot = document.querySelector('input[name="honeypot"]').value;
        if (honeypot) {
            alert("Spam detected!");
            return;
        }

        const name = document.getElementById("name").value;
        const email = document.getElementById("email").value;
        const consent = document.getElementById("consent").checked;

        if (!consent) {
            alert("You must agree to the consent checkbox.");
            return;
        }

        try {
            await emailjs.send("service_hcqlzmh", "template_y3pt28d", {
                name: name,
                email: email,
            });

            responseMessage.classList.remove("hidden");
            setTimeout(() => {
                window.location.href = "https://www.ernieandflo.com/sample-sent.html";
            }, 3000); // Redirect after 3 seconds
        } 
        catch (error) {
            console.error("Email sending error:", error);
            if (error.status) {
                alert(`Error ${error.status}: ${error.text}`);
            } else if (error.message) {
                alert(`Network error: ${error.message}`);
            } else {
                alert("An unknown error occurred. Please try again later.");
            }
        }
    });
</script>

</body>
</html>
